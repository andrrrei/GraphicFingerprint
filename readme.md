# GraphicFingerprint

CLI-утилита для генерации ASCII-art визуального fingerprint ключей на основе алгоритма Drunken bishop (пьяный слон) – используется в `ssh-keygen`.

Утилита предназначена для визуального сравнения fingerprint-ов человеком.


## Краткое описание решения

- Ввод:
  - hex-fingerprint
  - OpenSSH public key
- Детеминированная генерация ASCII-art
- Основана на алгоритме Drunken bishop
- Улучшенная визуализация:
  - нелинейное отображение плотности в символы
  - опциональная симметризация
- Чистый CLI


## Установка

Зависимостей, кроме стандартной библиотеки Python, нет.


## Использование

Из hex-fingerprint
```bash
python grfingerprint.py -f e6:70:70:9d:c3:37:b2:f2:0a:55:19:3a:87:8e:19:ed
```

Из OpenSSH public key
```bash
python grfingerprint.py -k ~/.ssh/id_ed25519.pub
```

Автоопределение формата
```bash
python grfingerprint.py ~/.ssh/id_ed25519.pub
```

### Основные параметры CLI
- `--width, --height` – размер поля (по умолчанию 17x9)
- `--hash` – хэш для public key (sha256 | md5 | sha1)
- `--sym` – симметризация поля (none | x | y | xy)
- `--sym-auto` – автоматический выбор симметрии из fingerprint


## Алгоритм

Используется классический алгоритм drunken bishop:
- Fingerprint представлен как массив байтов
- Курсор стартует в центре поля
- Каждый байт даёт 4 шага (по 2 бита): биты задают направление диагонального шага
- При каждом шаге увеличивается счётчик клетки, в результате чего формируется матрица плотности посещений
- Матрица отображается в ASCII-символы
- Старт (S) и конец (E) помечаются явно

Алгоритм полностью детерминирован.


## Отличия от ssh-keygen

1. Нелинейная палитра

Вместо линейного соответствия *count → symbol[count]* используется нормализация по максимуму и нелинейное преобразование: *count → нормализация → нелинейное преобразование → ASCII-символ*. 

Это улучшает читаемость и узнаваемость ASCII-арта.

2. Симметризация поля

После генерации поля может применяться детерминированная симметризация:
- по вертикали (x)
- по горизонтали (y)
- по обеим осям (xy)
Режим может быть задан явно или выбран автоматически из fingerprint.

Цель аналогичная — повышение визуальной узнаваемости отпечатков.

3. Параметризуемость

В отличие от ssh-keygen, вынесены в CLI:
- размеры поля
- тип хэша
- режим визуализации


## Проблемы
- Поддерживаются только OpenSSH public keys
- риватные ключи не обрабатываются
- ASCII-art fingerprint не является криптографически уникальным
